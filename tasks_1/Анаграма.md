---
tag: строки, сортировка
repl: https://replit.com/@IlyaSiganov/anagram
---

# Анаграма
Написать функцию, которая проверяет, является ли два слова анаграммой. Каждый символ слова это `char`.

Два слова являются анаграммой, если второе слово получено просто перестановкой букв первого слова. Например, `listen` и `silent` - это анаграмма.

Говорят, что алгоритм сортировки подсчетом можно использовать для определения анаграмм.

## Сортировка подсчетом (по Кормену)

В сортировке подсчетом предполагается, что каждый из $n$ входных элементов — целое число, принадлежащее интервалу от $0$ до $k$, где $k$ — некоторая целая константа. Время работы алгоритма сортировки подсчетом равно $O(n)$. И требуется дополнительно $O(k)$ памяти. Алгоритм эффективен только если $k \ll n$.

Основная идея заключается в том, чтоы просто посчитать сколько раз встречается каждое из k чисел в массиве из n элементов. Это работает, так как k - это небольшое число и в массиве представлены почти все варианты чисел меньших k.

### Алгоритм сортировки

Дан исходный массив $A[n]$ - из $n$ элементов, такой что $0 \leq A[i] < k, \forall i \in 0..n$

1.  Создаем массив счетчиков $C[k]$ из $k$ элементов. Тип данных массива должен в себя вмещать число $n$.
2.  Заполняем массив $С$ нулями
3.  Считаем количество элементов из A:

    ```python
    for a in A:
      C[a] += 1
    ```

4.  Из массива счетчика C восстанавливаем упорядоченный массив $A$

    ```python
    pos = 0
    for i n 0..k:
      for j in 0..C[k]:
        A[pos] = k
        pos += 1
    ```

5.  В массиве A у нас упорядочены все элементы

Занятный факт. Можно проверить, является ли последовательность перестановкой на $k$, просто проведя первые 3 шага алгоритмы сортировки подсчетом, а потом проверить что в $C$ все элементы - это единицы и нет ни одного нуля.

А еще можно проверить являются ли две последовательности перестановками друг друга, просто посчитав счетчики $C$ для обоих массивов и сравнив эти счетчики. Если массивы - это перестановки, то их счетчики совпадают.

## Задание
```c
#include "test.h"
#include <stdio.h>
#include <string.h> // для функции strlen

// HINT: чтобы узнать длину строки, воспользуйтесь функцией strlen("tets");
// HINT: или узнайте что все строки заканчиваются символов \\0

int is_anagram(const char* lhs, const char* rhs) {
  return 0;
}

void cli(void) {
  // TODO: Вводим строку из стандартного ввода и печатаем в консоль - анаграмма это или нет
}

void test(void) {
  // Это тесты. НЕ УДАЛЯЙТЕ ИХ!
  // Преподаватель будет грустить, если вы удалите тесты T_T.
  // Тесты проверяют, что ваш код работает правильно.
  // Если задача решена неправильно,
  // то в консоли вы увидите ошибку и пояснение.
  // Сдавайте лабу, когда устраните все ошибки в тестах.
  // Если возникли трудности, то попросите преподавателя вам помочь ^_^.

  ASSERT_TRUE(is_anagram("silent", "listen"));
  ASSERT_TRUE(is_anagram("car", "rac"));
  ASSERT_TRUE(is_anagram("apple", "pepal"));
  ASSERT_FALSE(is_anagram("abc", "ccba"));
  ASSERT_TRUE(is_anagram("a b c", "c  ba"));
  ASSERT_FALSE(is_anagram("a b c", "a\\nb\\nc"));
  ASSERT_FALSE(is_anagram("abc", "ab"));
  ASSERT_FALSE(is_anagram("aaab", "bbba"));
  ASSERT_TRUE(is_anagram("", ""));
}

int main(void) {
  test();
  cli();
  return 0;
}
```
